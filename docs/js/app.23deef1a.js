(function(){var e={2124:function(e,t,n){"use strict";var r=n(144),o=n(3726),a=n(259),l=n(3102),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,[t(a.Z,{attrs:{app:"",dense:"",color:"primary",dark:""}},[t("span",[e._v("shirokuma_bot 表現ツール")])]),t(l.Z,[t("router-view")],1)],1)},s=[],c=r.ZP.extend({name:"App",data:function(){return{}}}),u=c,f=n(1001),p=(0,f.Z)(u,i,s,!1,null,null,null),y=p.exports,b=n(129),h=n.n(b),d=n(8345),m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("hello-world",{attrs:{msg:"medium"}})},g=[],v=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("p",[t("span",[e._v("Hello ")]),t("span",[e._v(e._s(e.msg))])])},w=[],k=n(655),C=n(1929),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"msg",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return(0,k.ZT)(t,e),(0,k.gn)([(0,C.fI)()],t.prototype,"msg",void 0),t=(0,k.gn)([C.wA],t),t}(C.w3),O=P,Z=O,_=(0,f.Z)(Z,v,w,!1,null,"8a7f65fa",null),j=_.exports,D=r.ZP.extend({name:"Home",components:{HelloWorld:j}}),A=D,x=(0,f.Z)(A,m,g,!1,null,null,null),E=x.exports,G=n(4643),L=n(9819),S=n(5255),q=n(3369),B=n(7024),F=n(7509),M=n(9088),$=n(7894),T=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(F.Z,{staticClass:"melody"},[t(L.Z,{staticClass:"mt-4"},[t(S.Qq,{staticClass:"pb-1"},[e._v("音階 ["+e._s(e.scale)+"]")]),t(S.ZB,[e._v(e._s(e.score))]),t(S.ZB,[e._v(e._s(e.chord))]),t(S.ZB,[t($.Z,{staticClass:"pb-2"},[t(B.Z,{staticClass:"py-1",attrs:{cols:"12",sm:"4"}},[t(G.Z,{attrs:{small:"",block:"",outlined:""},on:{click:e.stop}},[t(M.Z,{attrs:{small:""}},[e._v("mdi-stop")]),t("span",{staticClass:"font-weight-bold ml-1"},[e._v("停止")])],1)],1),t(B.Z,{staticClass:"py-1",attrs:{cols:"12",sm:"4"}},[t(G.Z,{attrs:{small:"",block:"",color:"secondary"},on:{click:e.playSolo}},[t(M.Z,{attrs:{small:""}},[e._v("mdi-music-note")]),t("span",{staticClass:"font-weight-bold ml-1"},[e._v("ソロ")])],1)],1),t(B.Z,{staticClass:"py-1",attrs:{cols:"12",sm:"4"}},[t(G.Z,{attrs:{small:"",block:"",color:"primary"},on:{click:e.play}},[t(M.Z,{attrs:{small:""}},[e._v("mdi-music")]),t("span",{staticClass:"font-weight-bold ml-1"},[e._v("演奏")])],1)],1)],1)],1),t(S.Qq,{staticClass:"pb-1"},[e._v("演奏設定")]),t(S.ZB,[t($.Z,{staticClass:"pb-2"},[t(B.Z,{staticClass:"py-1",attrs:{cols:"12",sm:"4"}},[t(q.Z,{attrs:{"hide-details":"",dense:"",label:"メロディ"},model:{value:e.playMelody,callback:function(t){e.playMelody=t},expression:"playMelody"}})],1),t(B.Z,{staticClass:"py-1",attrs:{cols:"12",sm:"4"}},[t(q.Z,{attrs:{"hide-details":"",dense:"",label:"ドラム"},model:{value:e.playDrum,callback:function(t){e.playDrum=t},expression:"playDrum"}})],1),t(B.Z,{staticClass:"py-1",attrs:{cols:"12",sm:"4"}},[t(q.Z,{attrs:{"hide-details":"",dense:"",disabled:!e.hasChord,label:"コード"},model:{value:e.playChord,callback:function(t){e.playChord=t},expression:"playChord"}})],1)],1)],1)],1)],1)},R=[],I=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],J=function(){function e(e,t){Object.defineProperty(this,"pitchClass",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"octave",{enumerable:!0,configurable:!0,writable:!0,value:t})}return Object.defineProperty(e.prototype,"scaleText",{get:function(){return"".concat(this.pitchClass).concat(this.octave)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pitchClassLevel",{get:function(){return I.indexOf(this.pitchClass)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shift",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){void 0===t&&(t=0),void 0===n&&(n=!1);var r=this.pitchClass,o=0;return n&&this.pitchClassLevel>=I.length-1?(r=I[0],o=1):n&&(r=I[this.pitchClassLevel+1]),new e(r,this.octave+t+o)}}),e}(),z=n(6955),H={"通常":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D",4)},{key:"ミ",scale:new J("E",4)},{key:"ファ",scale:new J("F",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("A",4)},{key:"シ",scale:new J("B",4)}],"琉球":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("E",4)},{key:"ミ",scale:new J("E",4)},{key:"ファ",scale:new J("F",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("B",4)},{key:"シ",scale:new J("B",4)}],"ジプシー":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("C#",4)},{key:"ミ",scale:new J("E",4)},{key:"ファ",scale:new J("F",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("G#",4)},{key:"シ",scale:new J("B",4)}],"アラビア":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D",4)},{key:"ミ",scale:new J("D#",4)},{key:"ファ",scale:new J("F#",4)},{key:"ソ",scale:new J("G#",4)},{key:"ラ",scale:new J("B",4)},{key:"シ",scale:new J("B",4)}],"ヨナ抜き短調":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D",4)},{key:"ミ",scale:new J("D#",4)},{key:"ファ",scale:new J("G",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("G#",4)},{key:"シ",scale:new J("G#",4)}],"宮調式":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D",4)},{key:"ミ",scale:new J("E",4)},{key:"ファ",scale:new J("G",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("A",4)},{key:"シ",scale:new J("A",4)}],"メジャーブルース":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D",4)},{key:"ミ",scale:new J("D#",4)},{key:"ファ",scale:new J("E",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("A",4)},{key:"シ",scale:new J("A",4)}],"マイナーブルース":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D#",4)},{key:"ミ",scale:new J("F",4)},{key:"ファ",scale:new J("F#",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("A#",4)},{key:"シ",scale:new J("A#",4)}]},Q=[{name:"C",notes:["C4","E4","G4"]},{name:"Dm",notes:["D4","F4","A4"]},{name:"Em",notes:["E4","G4","B4"]},{name:"F",notes:["C4","F4","A4"]},{name:"G",notes:["D4","D4","B4"]},{name:"Am",notes:["C4","E4","A4"]},{name:"Bm(-5)",notes:["D4","F4","B4"]}],U=[{len:.5,value:"16n"},{len:1,value:"8n"},{len:2,value:"4n"},{len:3,value:"4n."},{len:4,value:"2n"},{len:5,value:"1n"}],W={"ﾄﾞ":"ド","ﾚ":"レ","ﾐ":"ミ","ﾌｧ":"ファ","ｿ":"ソ","ﾗ":"ラ","ｼ":"シ","ﾓ":"モ",",":"・"},V=function(e){var t=(e.match(/↑/g)||[]).length,n=(e.match(/↓/g)||[]).length;return t-n},K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"songLength",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"playMelody",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(t,"playDrum",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(t,"playChord",{enumerable:!0,configurable:!0,writable:!0,value:!0}),t}return(0,k.ZT)(t,e),Object.defineProperty(t.prototype,"scale",{get:function(){return"string"!==typeof this.$route.query.scale?"通常":Object.keys(H).includes(this.$route.query.scale)?this.$route.query.scale:"通常"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleList",{get:function(){return H[this.scale]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){z.J7.bpm.value=240,this.updateSongLength(),this.setDrums()}}),Object.defineProperty(t.prototype,"updateSongLength",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.songLength=this.scoreInner.reduce((function(e,t){return e+t.len}),0)}}),Object.defineProperty(t.prototype,"play",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.stop(),this.updateSongLength(),this.playMelody&&this.setMelody(),this.playDrum&&this.setDrums(),this.playChord&&this.setChord(),z.J7.start()}}),Object.defineProperty(t.prototype,"playSolo",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.stop(),this.updateSongLength(),this.setMelody(),z.J7.start()}}),Object.defineProperty(t.prototype,"stop",{enumerable:!1,configurable:!0,writable:!0,value:function(){z.J7.stop(),z.J7.cancel()}}),Object.defineProperty(t.prototype,"setDrums",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=Math.ceil(this.songLength/4)+4,t=(new z.CF).toDestination();t.volume.value=-8;var n=new z.Lz((function(e,n){t.triggerAttackRelease(n.note,"16n",e,.4)}),[{time:"0:0.0",note:"C3"},{time:"0:1.0",note:"C3"}]);n.loop=!0,n.start(),n.stop(e);var r=(new z._T).toDestination();r.volume.value=-8;var o=new z.Lz((function(e,t){r.triggerAttackRelease(t.note,"16n",e,.05)}),[{time:"0:2.0",note:"C4"},{time:"0:3.0",note:"C4"}]);o.loop=!0,o.start(),o.stop(e)}}),Object.defineProperty(t.prototype,"setMelody",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=(new z.WV).toDestination(),n=this.scaleList.map((function(e){return e.scale})),r=n[Math.floor(Math.random()*n.length)],o=this.scoreInner.map((function(t){var n,o="モ"===t.character,a=o?r:null===(n=e.scaleList.find((function(e){return t.character===e.key})))||void 0===n?void 0:n.scale,l=null==a?null:a.shift(V(t.octaveArrows),t.sharp);return{scale:l,len:t.len}})),a=0,l=[];o.forEach((function(e){var t;if(null!=e.scale){var n=(null===(t=U.find((function(t){return e.len===t.len})))||void 0===t?void 0:t.value)||"16n";l.push({note:e.scale.scaleText,duration:n,time:"2:".concat(a)})}a+=e.len}));var i=new z.Lz((function(e,n){t.triggerAttackRelease(n.note,n.duration,e)}),l);i.start()}}),Object.defineProperty(t.prototype,"setChord",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.hasChord){var e=Math.ceil(this.songLength)/4+4,t=(new z.v2).toDestination();t.volume.value=-14;for(var n=[],r=0;r<=e;r++)n.push({time:"0:".concat(4*r,".0"),notes:this.chordInner[r%4].notes});console.log(n);new z.Lz((function(e,n){t.triggerAttackRelease(n.notes,"4n",e)}),n).start()}}}),Object.defineProperty(t.prototype,"score",{get:function(){return"string"===typeof this.$route.query.q?decodeURI(this.$route.query.q):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scoreInner",{get:function(){var e="/",t=this.score.replaceAll(/(ド|レ|ミ|ファ|ソ|ラ|シ|モ|ﾄﾞ|ﾚ|ﾐ|ﾌｧ|ｿ|ﾗ|ｼ|ﾓ|・|,)/g,"".concat(e,"$1")),n=t.split(e),r=["ド","レ","ミ","ファ","ソ","ラ","シ","モ","・","ﾄﾞ","ﾚ","ﾐ","ﾌｧ","ｿ","ﾗ","ｼ","ﾓ",","].join("|"),o=new RegExp("^(".concat(r,")(\\*)?([↑↓]+)?"));return n.filter((function(e){return null!=e&&""!==e})).map((function(e){var t=e.match(o),n=Object.keys(W).includes(t[1]),r=n?W[t[1]]:t[1],a="*"===t[2],l=t[3]||"",i=n?.5:(e.match(/ー/g)||[]).length+1;return{character:r,sharp:a,octaveArrows:l,len:i}}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chord",{get:function(){return"string"===typeof this.$route.query.c?decodeURI(this.$route.query.c):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chordInner",{get:function(){var e=Q.map((function(e){return e.name})).join("|"),t=String.fromCharCode(92),n=e.replaceAll("(","".concat(t,"(")).replaceAll(")","".concat(t,")")),r=new RegExp(n,"g"),o=this.chord.match(r)||[],a=o.map((function(e){return Q.find((function(t){return e===t.name}))})).filter((function(e){return null!=e}))||[];return 4!==a.length?null:a},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasChord",{get:function(){return null!=this.chordInner},enumerable:!1,configurable:!0}),t=(0,k.gn)([C.wA],t),t}(C.w3),N=K,X=N,Y=(0,f.Z)(X,T,R,!1,null,"7c448942",null),ee=Y.exports,te=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:e.ready},[t("div",{staticClass:"intro"},[t(F.Z,{staticClass:"fg"},[t(G.Z,{attrs:{block:"",color:"primary"},on:{click:e.boot}},[t(M.Z,{attrs:{small:""}},[e._v("mdi-music-note")]),t("span",{staticClass:"font-weight-bold ml-1"},[e._v("ハッスル・マッスル")]),t(M.Z,{attrs:{small:""}},[e._v("mdi-music")])],1)],1)],1),t("div",{staticClass:"gotcha",class:e.rarity},[t(F.Z,{staticClass:"fg"},[t($.Z,{staticClass:"content rarity"},[e._v(e._s(e.rarity))]),t($.Z,{staticClass:"content gift"},[e._v(e._s(e.gift))])],1)],1)])},ne=[],re=n(9477),oe=n(1470),ae=n.n(oe),le={mouseControls:!1,touchControls:!1,gyroControls:!1,blurFactor:.5,speed:1,zoom:1.2,baseColor:16777215},ie=[{key:"SS",highlightColor:16776960,midtoneColor:16114688,lowlightColor:11161616},{key:"S",highlightColor:15790335,midtoneColor:12632272,lowlightColor:10066346},{key:"A",highlightColor:16746581,midtoneColor:15641139,lowlightColor:10048802}],se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"vantaEffect",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t,"ready",{enumerable:!0,configurable:!0,writable:!0,value:"not-ready"}),t}return(0,k.ZT)(t,e),Object.defineProperty(t.prototype,"gift",{get:function(){return"string"!==typeof this.$route.query.gift?"":this.$route.query.gift},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rarity",{get:function(){return"string"!==typeof this.$route.query.rarity?"":ie.map((function(e){return e.key})).includes(this.$route.query.rarity)?this.$route.query.rarity:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rarityConfig",{get:function(){var e=this;return ie.find((function(t){return t.key===e.rarity}))||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(t.prototype,"effect",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.vantaEffect=ae()((0,k.pi)((0,k.pi)((0,k.pi)({},le),this.rarityConfig),{el:this.$el,THREE:re}))}}),Object.defineProperty(t.prototype,"boot",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.ready="ready",this.effect(),this.playSound()}}),Object.defineProperty(t.prototype,"beforeDestroy",{enumerable:!1,configurable:!0,writable:!0,value:function(){null!=this.vantaEffect&&this.vantaEffect.destroy()}}),Object.defineProperty(t.prototype,"playSound",{enumerable:!1,configurable:!0,writable:!0,value:function(){z.J7.stop(),z.J7.cancel(),z.J7.bpm.value=240;var e=(new z.v2).toDestination();new z.Lz((function(t){e.triggerAttackRelease(["C4","E4","G4","A#5"],"2n",t)}),[{time:"0:0.0"}]).start(3.4);z.J7.start()}}),t=(0,k.gn)([C.wA],t),t}(C.w3),ce=se,ue=ce,fe=(0,f.Z)(ue,te,ne,!1,null,"eef39f3a",null),pe=fe.exports;r.ZP.use(d.ZP);var ye=[{path:"/",component:E},{path:"/melody",component:ee},{path:"/gotcha",component:pe}],be=new d.ZP({mode:"hash",base:"/medium/",parseQuery:h().parse,stringifyQuery:function(e){return"?".concat(h().stringify(e))},routes:ye}),he=be,de=n(154);r.ZP.use(de.Z);var me=new de.Z({});r.ZP.config.productionTip=!1,new r.ZP({router:he,vuetify:me,render:function(e){return e(y)}}).$mount("#app")},4654:function(){}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var l=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],a=e[u][2];for(var i=!0,s=0;s<r.length;s++)(!1&a||l>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(i=!1,a<l&&(l=a));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,l=r[0],i=r[1],s=r[2],c=0;if(l.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(s)var u=s(n)}for(t&&t(r);c<l.length;c++)a=l[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},r=self["webpackChunkproject"]=self["webpackChunkproject"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(2124)}));r=n.O(r)})();
//# sourceMappingURL=app.23deef1a.js.map