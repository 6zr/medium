(function(){var e={4421:function(e,t,n){"use strict";var r=n(144),a=n(3726),l=n(259),o=n(3102),s=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,[t(l.Z,{attrs:{app:"",dense:"",color:"primary",dark:""}},[t("span",[e._v("shirokuma_bot 表現ツール")])]),t(o.Z,[t("router-view")],1)],1)},c=[],i=r.ZP.extend({name:"App",data:function(){return{}}}),u=i,f=n(1001),p=(0,f.Z)(u,s,c,!1,null,null,null),y=p.exports,h=n(129),w=n.n(h),b=n(8345),v=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("hello-world",{attrs:{msg:"medium"}})},d=[],m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("p",[t("span",[e._v("Hello ")]),t("span",[e._v(e._s(e.msg))])])},g=[],k=n(655),_=n(1929),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"msg",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t}return(0,k.ZT)(t,e),(0,k.gn)([(0,_.fI)()],t.prototype,"msg",void 0),t=(0,k.gn)([_.wA],t),t}(_.w3),O=C,P=O,Z=(0,f.Z)(P,m,g,!1,null,"8a7f65fa",null),j=Z.exports,x=r.ZP.extend({name:"Home",components:{HelloWorld:j}}),A=x,D=(0,f.Z)(A,v,d,!1,null,null,null),L=D.exports,G=n(5565),S=n(9819),E=n(5255),F=n(7024),T=n(7509),B=n(9088),M=n(7894),q=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(T.Z,{staticClass:"melody"},[t(S.Z,{staticClass:"mt-4"},[t(E.Qq,{staticClass:"pb-1"},[e._v("音階 ["+e._s(e.scale)+"]")]),t(E.ZB,[e._v(e._s(e.score))]),t(E.ZB,[t(M.Z,{staticClass:"pb-2"},[t(F.Z,{staticClass:"py-1",attrs:{cols:"12",sm:"4"}},[t(G.Z,{attrs:{small:"",block:"",outlined:""},on:{click:e.stop}},[t(B.Z,{attrs:{small:""}},[e._v("mdi-stop")]),t("span",{staticClass:"font-weight-bold ml-1"},[e._v("停止")])],1)],1),t(F.Z,{staticClass:"py-1",attrs:{cols:"12",sm:"4"}},[t(G.Z,{attrs:{small:"",block:"",color:"secondary"},on:{click:e.playSolo}},[t(B.Z,{attrs:{small:""}},[e._v("mdi-music-note")]),t("span",{staticClass:"font-weight-bold ml-1"},[e._v("ソロ")])],1)],1),t(F.Z,{staticClass:"py-1",attrs:{cols:"12",sm:"4"}},[t(G.Z,{attrs:{small:"",block:"",color:"primary"},on:{click:e.play}},[t(B.Z,{attrs:{small:""}},[e._v("mdi-music")]),t("span",{staticClass:"font-weight-bold ml-1"},[e._v("演奏")])],1)],1)],1)],1)],1)],1)},$=[],I=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],J=function(){function e(e,t){Object.defineProperty(this,"pitchClass",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"octave",{enumerable:!0,configurable:!0,writable:!0,value:t})}return Object.defineProperty(e.prototype,"scaleText",{get:function(){return"".concat(this.pitchClass).concat(this.octave)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pitchClassLevel",{get:function(){return I.indexOf(this.pitchClass)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shift",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n){void 0===t&&(t=0),void 0===n&&(n=!1);var r=this.pitchClass,a=0;return n&&this.pitchClassLevel>=I.length-1?(r=I[0],a=1):n&&(r=I[this.pitchClassLevel+1]),new e(r,this.octave+t+a)}}),e}(),R=n(6955),z={"通常":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D",4)},{key:"ミ",scale:new J("E",4)},{key:"ファ",scale:new J("F",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("A",4)},{key:"シ",scale:new J("B",4)}],"琉球":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("E",4)},{key:"ミ",scale:new J("E",4)},{key:"ファ",scale:new J("F",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("B",4)},{key:"シ",scale:new J("B",4)}],"ジプシー":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("C#",4)},{key:"ミ",scale:new J("E",4)},{key:"ファ",scale:new J("F",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("G#",4)},{key:"シ",scale:new J("B",4)}],"アラビア":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D",4)},{key:"ミ",scale:new J("D#",4)},{key:"ファ",scale:new J("F#",4)},{key:"ソ",scale:new J("G#",4)},{key:"ラ",scale:new J("B",4)},{key:"シ",scale:new J("B",4)}],"ヨナ抜き短調":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D",4)},{key:"ミ",scale:new J("D#",4)},{key:"ファ",scale:new J("G",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("G#",4)},{key:"シ",scale:new J("G#",4)}],"宮調式":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D",4)},{key:"ミ",scale:new J("E",4)},{key:"ファ",scale:new J("G",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("A",4)},{key:"シ",scale:new J("A",4)}],"メジャーブルース":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D",4)},{key:"ミ",scale:new J("D#",4)},{key:"ファ",scale:new J("E",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("A",4)},{key:"シ",scale:new J("A",4)}],"マイナーブルース":[{key:"ド",scale:new J("C",4)},{key:"レ",scale:new J("D#",4)},{key:"ミ",scale:new J("F",4)},{key:"ファ",scale:new J("F#",4)},{key:"ソ",scale:new J("G",4)},{key:"ラ",scale:new J("A#",4)},{key:"シ",scale:new J("A#",4)}]},H=[{len:.5,value:"16n"},{len:1,value:"8n"},{len:2,value:"4n"},{len:3,value:"4n."},{len:4,value:"2n"},{len:5,value:"1n"}],Q={"ﾄﾞ":"ド","ﾚ":"レ","ﾐ":"ミ","ﾌｧ":"ファ","ｿ":"ソ","ﾗ":"ラ","ｼ":"シ","ﾓ":"モ",",":"・"},W=function(e){var t=(e.match(/↑/g)||[]).length,n=(e.match(/↓/g)||[]).length;return t-n},U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return Object.defineProperty(t,"songLength",{enumerable:!0,configurable:!0,writable:!0,value:0}),t}return(0,k.ZT)(t,e),Object.defineProperty(t.prototype,"scale",{get:function(){return"string"!==typeof this.$route.query.scale?"通常":Object.keys(z).includes(this.$route.query.scale)?this.$route.query.scale:"通常"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleList",{get:function(){return z[this.scale]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mounted",{enumerable:!1,configurable:!0,writable:!0,value:function(){R.J7.bpm.value=240,this.updateSongLength(),this.setDrums()}}),Object.defineProperty(t.prototype,"updateSongLength",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.songLength=this.scoreInner.reduce((function(e,t){return e+t.len}),0)}}),Object.defineProperty(t.prototype,"play",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.stop(),this.updateSongLength(),this.setMelody(),this.setDrums(),R.J7.start()}}),Object.defineProperty(t.prototype,"playSolo",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.stop(),this.updateSongLength(),this.setMelody(),R.J7.start()}}),Object.defineProperty(t.prototype,"stop",{enumerable:!1,configurable:!0,writable:!0,value:function(){R.J7.stop(),R.J7.cancel()}}),Object.defineProperty(t.prototype,"setDrums",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=Math.ceil(this.songLength/4)+4,t=(new R.CF).toDestination(),n=new R.Lz((function(e,n){t.triggerAttackRelease(n.note,"16n",e,.4)}),[{time:"0:0.0",note:"C3"},{time:"0:1.0",note:"C3"}]);n.loop=!0,n.start(),n.stop(e);var r=(new R._T).toDestination(),a=new R.Lz((function(e,t){r.triggerAttackRelease(t.note,"16n",e,.05)}),[{time:"0:2.0",note:"C4"},{time:"0:3.0",note:"C4"}]);a.loop=!0,a.start(),a.stop(e)}}),Object.defineProperty(t.prototype,"setMelody",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=(new R.WV).toDestination(),n=this.scaleList.map((function(e){return e.scale})),r=n[Math.floor(Math.random()*n.length)],a=this.scoreInner.map((function(t){var n,a="モ"===t.character,l=a?r:null===(n=e.scaleList.find((function(e){return t.character===e.key})))||void 0===n?void 0:n.scale,o=null==l?null:l.shift(W(t.octaveArrows),t.sharp);return{scale:o,len:t.len}})),l=0,o=[];a.forEach((function(e){var t;if(null!=e.scale){var n=(null===(t=H.find((function(t){return e.len===t.len})))||void 0===t?void 0:t.value)||"16n";o.push({note:e.scale.scaleText,duration:n,time:"2:".concat(l)})}l+=e.len}));var s=new R.Lz((function(e,n){t.triggerAttackRelease(n.note,n.duration,e)}),o);s.start()}}),Object.defineProperty(t.prototype,"score",{get:function(){return"string"===typeof this.$route.query.q?decodeURI(this.$route.query.q):""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scoreInner",{get:function(){var e="/",t=this.score.replaceAll(/(ド|レ|ミ|ファ|ソ|ラ|シ|モ|ﾄﾞ|ﾚ|ﾐ|ﾌｧ|ｿ|ﾗ|ｼ|ﾓ|・|,)/g,"".concat(e,"$1")),n=t.split(e),r=["ド","レ","ミ","ファ","ソ","ラ","シ","モ","・","ﾄﾞ","ﾚ","ﾐ","ﾌｧ","ｿ","ﾗ","ｼ","ﾓ",","].join("|"),a=new RegExp("^(".concat(r,")(\\*)?([↑↓]+)?"));return n.filter((function(e){return null!=e&&""!==e})).map((function(e){var t=e.match(a),n=Object.keys(Q).includes(t[1]),r=n?Q[t[1]]:t[1],l="*"===t[2],o=t[3]||"",s=n?.5:(e.match(/ー/g)||[]).length+1;return{character:r,sharp:l,octaveArrows:o,len:s}}))},enumerable:!1,configurable:!0}),t=(0,k.gn)([_.wA],t),t}(_.w3),V=U,K=V,N=(0,f.Z)(K,q,$,!1,null,"f389dcee",null),X=N.exports;r.ZP.use(b.ZP);var Y=[{path:"/",component:L},{path:"/melody",component:X}],ee=new b.ZP({mode:"hash",base:"/medium/",parseQuery:w().parse,stringifyQuery:function(e){return"?".concat(w().stringify(e))},routes:Y}),te=ee,ne=n(154);r.ZP.use(ne.Z);var re=new ne.Z({});r.ZP.config.productionTip=!1,new r.ZP({router:te,vuetify:re,render:function(e){return e(y)}}).$mount("#app")},4654:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var l=t[r]={exports:{}};return e[r].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,l){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],l=e[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&l||o>=l)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,l<o&&(o=l));if(s){e.splice(u--,1);var i=a();void 0!==i&&(t=i)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[r,a,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,l,o=r[0],s=r[1],c=r[2],i=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var u=c(n)}for(t&&t(r);i<o.length;i++)l=o[i],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(u)},r=self["webpackChunkproject"]=self["webpackChunkproject"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(4421)}));r=n.O(r)})();
//# sourceMappingURL=app.6fee7a73.js.map